{% extends "base.html" %}
{% block content %}
  <!-- Page Header -->
  <div class="page-header">
    <h1 class="page-title page-title-animated">üí∞ Compensation Data</h1>
    <p class="page-subtitle page-subtitle-animated">Community-Submitted Medical Compensation Data. Because $500K in student loans at 7% interest ain't gonna pay itself.</p>
  </div>

  <!-- Submit Data Button -->
  <div class="submit-section">
    <a href="/compensation/submit" class="submit-btn">
      <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M12 5v14M5 12h14" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
      </svg>
      Submit Your Data
    </a>
  </div>

  <!-- Summary Statistics -->
  <div class="stats-grid">
    <div class="stat-card stat-green">
      <div class="stat-icon">
                  <svg width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
      </div>
      <div class="stat-content">
        <h3 class="stat-title">
          Average Total Compensation
          {% if current_filters.year or current_filters.region or current_filters.specialty or current_filters.practice_type %}
            <span class="stat-filter">(Filtered)</span>
          {% endif %}
        </h3>
        <p class="stat-value">${{ "{:,.0f}".format(summary_stats.avg_total_comp or 0) }}</p>
        <p class="stat-description">Annual total compensation</p>
      </div>
    </div>
    
    <div class="stat-card stat-blue">
      <div class="stat-icon">
                  <svg width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
      </div>
      <div class="stat-content">
        <h3 class="stat-title">
          Average RVU Rate
          {% if current_filters.year or current_filters.region or current_filters.specialty or current_filters.practice_type %}
            <span class="stat-filter">(Filtered)</span>
          {% endif %}
        </h3>
        <p class="stat-value">{{ "$" + "{:,.2f}".format(summary_stats.avg_rvu_rate) if summary_stats.avg_rvu_rate else 'N/A' }}</p>
        <p class="stat-description">Per RVU compensation</p>
      </div>
    </div>
    
    <div class="stat-card stat-purple">
      <div class="stat-icon">
                  <svg width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
      </div>
      <div class="stat-content">
        <h3 class="stat-title">
          Average Hours/Week
          {% if current_filters.year or current_filters.region or current_filters.specialty or current_filters.practice_type %}
            <span class="stat-filter">(Filtered)</span>
          {% endif %}
        </h3>
        <p class="stat-value">{{ "{:.1f}".format(summary_stats.avg_hours or 0) }}</p>
        <p class="stat-description">Average weekly hours</p>
      </div>
    </div>
  </div>

  <!-- Filters -->
  <div class="filters-card">
    <div class="filters-header">
      <h3>üîç Filter Data</h3>
      <button type="button" class="filters-toggle" onclick="toggleFilters()">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M6 9l6 6 6-6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </button>
    </div>
    
    {% if current_filters.year or current_filters.region or current_filters.specialty or current_filters.practice_type %}
    <div class="filter-notice">
      <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
      </svg>
      <span><strong>Filters Applied:</strong> Summary statistics reflect filtered data only. <a href="/compensation" class="clear-link">Clear all filters</a> to see overall statistics.</span>
    </div>
    {% endif %}
    
    <form method="GET" class="filters-form" id="filters-form">
      <div class="filters-grid">
        <div class="filter-group">
          <label class="filter-label">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
            Year
          </label>
          <select name="year" id="year" class="filter-input">
            <option value="">All Years</option>
            {% for year in years %}
            <option value="{{ year }}" {% if year == current_filters.year %}selected{% endif %}>{{ year }}</option>
            {% endfor %}
          </select>
        </div>
        
        <div class="filter-group">
          <label class="filter-label">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M3 4h18v16H3z" stroke="currentColor" stroke-width="2"/>
              <circle cx="12" cy="10" r="3" stroke="currentColor" stroke-width="2"/>
              <path d="M7 20c1.5-2 3.5-3 5-3s3.5 1 5 3" stroke="currentColor" stroke-width="2"/>
            </svg>
            Region
          </label>
          <select name="region" id="region" class="filter-input">
            <option value="">All Regions</option>
            {% for region in regions %}
            <option value="{{ region }}" {% if region == current_filters.region %}selected{% endif %}>{{ region }}</option>
            {% endfor %}
          </select>
        </div>
        
        <div class="filter-group">
          <label class="filter-label">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
            Specialty
          </label>
          <select name="specialty" id="specialty" class="filter-input">
            <option value="">All Specialties</option>
            {% for specialty_option in specialty_options %}
            <option value="{{ specialty_option.code }}" {% if specialty_option.code == current_filters.specialty %}selected{% endif %}>{{ specialty_option.name }}</option>
            {% endfor %}
          </select>
        </div>
        
        <div class="filter-group">
          <label class="filter-label">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M19 21V5a2 2 0 0 0-2-2H7a2 2 0 0 0-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v5m-4 0h4" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
            Practice Type
          </label>
          <select name="practice_type" id="practice_type" class="filter-input">
            <option value="">All Practice Types</option>
            {% for practice_type in practice_types %}
            <option value="{{ practice_type }}" {% if practice_type == current_filters.practice_type %}selected{% endif %}>{{ practice_type }}</option>
            {% endfor %}
          </select>
        </div>
        
        <div class="filter-actions">
          <button type="submit" class="btn primary">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
            Apply Filters
          </button>
          <a href="/compensation" class="btn secondary">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M6 18L18 6M6 6l12 12" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
            Clear Filters
          </a>
        </div>
      </div>
    </form>
  </div>

  <!-- Compensation Data -->
  <div class="data-section">
    <div class="data-header">
      <h2 class="data-title">Compensation Data</h2>
      <p class="data-subtitle">{{ "{:,}".format(summary_stats.total_records or 0) }} records submitted by the community</p>
    </div>

    {% if compensation_data %}
    <div class="compensation-grid">
      {% for item in compensation_data %}
      <div class="compensation-card {% if item.is_anonymous_submission %}anonymous{% endif %}">
        <div class="compensation-header">
          <div class="compensation-icon">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
          </div>
          <div class="compensation-title">
            <h3 class="compensation-amount">${{ "{:,}".format(item.total_compensation) }}</h3>
            <p class="compensation-year">{{ item.year }} ‚Ä¢ {{ item.region }}</p>
          </div>
        </div>
        
        <div class="compensation-details">
          <div class="detail-row">
            <span class="detail-label">Specialty</span>
            <span class="detail-value">{{ get_specialty_display_name(item.specialty) }}</span>
          </div>
          <div class="detail-row">
            <span class="detail-label">Practice Type</span>
            <span class="detail-value">{{ item.practice_type or 'N/A' }}</span>
          </div>
          <div class="detail-row">
            <span class="detail-label">RVU Rate</span>
            <span class="detail-value">{{ "$" + "{:,.2f}".format(item.rvu_per_work_rvu) if item.rvu_per_work_rvu and item.rvu_per_work_rvu > 0 else 'N/A' }}</span>
          </div>
          <div class="detail-row">
            <span class="detail-label">Total RVUs</span>
            <span class="detail-value">{{ "{:,}".format(item.total_rvus) if item.total_rvus and item.total_rvus > 0 else 'N/A' }}</span>
          </div>
          <div class="detail-row">
            <span class="detail-label">Hours/Week</span>
            <span class="detail-value">{{ "{:.1f}".format(item.hours_per_week) if item.hours_per_week else "N/A" }}</span>
          </div>
        </div>
        
        {% if item.additional_notes %}
        <div class="additional-notes">
          <div class="notes-label">Additional Details:</div>
          <div class="notes-content">{{ item.additional_notes }}</div>
        </div>
        {% endif %}
        
        {% if item.is_anonymous_submission %}
        <div class="anonymous-badge">
          <svg width="10" height="10" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
          Anonymous Submission
        </div>
        {% endif %}
      </div>
      {% endfor %}
    </div>
    {% else %}
    <div class="empty-state">
      <div class="empty-icon">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M9 12l2 2 4-4M21 12c0 4.97-4.03 9-9 9s-9-4.03-9-9 4.03-9 9-9 9 4.03 9 9z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </div>
      <h3>No compensation data found</h3>
      <p>Try adjusting your filters or be the first to submit data.</p>
    </div>
    {% endif %}
  </div>

  <!-- Data Source Information -->
  <div class="info-card">
    <div class="info-header">
      <h3>About This Data</h3>
    </div>
    <div class="info-content">
      <p>This compensation data is submitted anonymously by members of the medical community. The data represents real compensation information shared by physicians across different regions, specialties, and practice types. All figures are in USD and represent annual compensation.</p>
      <p><strong>Note:</strong> Compensation can vary significantly based on location, experience, practice type, and market conditions. This data should be used as a general reference only. All submissions are completely anonymous and contribute to industry transparency.</p>
      <p><strong>Contribute:</strong> Help the community by submitting your own compensation data anonymously. Your contribution helps create transparency and provides valuable benchmarks for other physicians.</p>
    </div>
  </div>

<style>
  /* Page Header */
  .page-header {
    text-align: center;
    margin-bottom: 3rem;
  }

  .page-title {
    font-size: 3rem;
    font-weight: 900;
    margin-bottom: 1rem;
    background: linear-gradient(135deg, var(--text) 0%, var(--accent) 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }

  .page-subtitle {
    font-size: 1.25rem;
    color: var(--text-secondary);
    font-weight: 300;
  }

  /* Submit Section */
  .submit-section {
    text-align: center;
    margin-bottom: 3rem;
  }

  .submit-btn {
    display: inline-flex;
    align-items: center;
    gap: 0.75rem;
    background: var(--accent);
    color: white;
    font-weight: 600;
    padding: 1rem 2rem;
    border-radius: 12px;
    text-decoration: none;
    transition: all 0.3s ease;
    box-shadow: var(--shadow);
  }

  .submit-btn:hover {
    background: var(--accent-dark);
    transform: translateY(-2px);
    box-shadow: var(--shadow-lg);
  }

  /* Stats Grid */
  .stats-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 1rem;
    margin-bottom: 2rem;
  }

  .stat-card {
    background: var(--glass);
    backdrop-filter: var(--blur);
    -webkit-backdrop-filter: var(--blur);
    border: 1px solid var(--glass-border);
    border-radius: 12px;
    padding: 1rem 1.5rem;
    box-shadow: var(--shadow);
    transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    position: relative;
    overflow: hidden;
  }

  .stat-card::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 3px;
    border-radius: 12px 12px 0 0;
  }

  .stat-green::before { background: linear-gradient(90deg, #22c55e 0%, #16a34a 100%); }
  .stat-blue::before { background: linear-gradient(90deg, #3b82f6 0%, #2563eb 100%); }
  .stat-purple::before { background: linear-gradient(90deg, #8b5cf6 0%, #7c3aed 100%); }

  .stat-card:hover {
    box-shadow: var(--shadow-lg);
    border-color: var(--accent);
  }

  .stat-header {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    margin-bottom: 1rem;
  }

  .stat-icon {
    width: 32px;
    height: 32px;
    border-radius: 8px;
    display: flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;
  }

  .stat-green .stat-icon { background: rgba(34, 197, 94, 0.1); color: #22c55e; }
  .stat-blue .stat-icon { background: rgba(59, 130, 246, 0.1); color: #3b82f6; }
  .stat-purple .stat-icon { background: rgba(139, 92, 246, 0.1); color: #8b5cf6; }

  .stat-content {
    flex: 1;
  }

  .stat-title {
    font-size: 0.9rem;
    font-weight: 600;
    color: var(--text);
    margin-bottom: 0.25rem;
  }

  .stat-filter {
    font-size: 0.7rem;
    color: var(--text-secondary);
    font-weight: 400;
  }

  .stat-value {
    font-size: 1.75rem;
    font-weight: 900;
    margin-bottom: 0.25rem;
  }

  .stat-green .stat-value { color: #22c55e; }
  .stat-blue .stat-value { color: #3b82f6; }
  .stat-purple .stat-value { color: #8b5cf6; }

  .stat-description {
    color: var(--text-secondary);
    font-size: 0.8rem;
  }

  /* Filters Card */
  .filters-card {
    background: var(--glass);
    backdrop-filter: var(--blur);
    -webkit-backdrop-filter: var(--blur);
    border: 1px solid var(--glass-border);
    border-radius: 12px;
    padding: 1rem 1.5rem;
    margin-bottom: 2rem;
    box-shadow: var(--shadow);
    transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
  }

  .filters-card:hover {
    box-shadow: var(--shadow-lg);
    border-color: var(--accent);
  }

  .filters-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 1rem;
  }

  .filters-header h3 {
    font-size: 1.1rem;
    font-weight: 700;
    color: var(--text);
    margin: 0;
  }

  .filters-toggle {
    background: none;
    border: none;
    color: var(--text-secondary);
    cursor: pointer;
    padding: 0.375rem;
    border-radius: 6px;
    transition: all 0.3s ease;
  }

  .filters-toggle:hover {
    color: var(--accent);
    background: var(--accent-light);
  }

  .filter-notice {
    display: flex;
    align-items: center;
    gap: 0.375rem;
    background: var(--accent-light);
    border: 1px solid var(--accent);
    border-radius: 8px;
    padding: 0.75rem;
    margin-bottom: 1rem;
    color: var(--text);
    font-size: 0.8rem;
  }

  .clear-link {
    color: var(--accent);
    text-decoration: none;
    font-weight: 600;
  }

  .clear-link:hover {
    text-decoration: underline;
  }

  .filters-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 0.75rem;
    margin-bottom: 1rem;
  }

  .filter-group {
    display: flex;
    flex-direction: column;
    gap: 0.25rem;
  }

  .filter-label {
    display: flex;
    align-items: center;
    gap: 0.375rem;
    font-weight: 600;
    color: var(--text);
    font-size: 0.8rem;
  }

  .filter-label svg {
    width: 14px;
    height: 14px;
  }

  .filter-input {
    padding: 0.5rem 0.75rem;
    background: var(--glass-light);
    border: 1px solid var(--glass-border-light);
    border-radius: 8px;
    color: var(--text);
    font-size: 0.85rem;
    transition: all 0.3s ease;
  }

  .filter-input:focus {
    outline: none;
    border-color: var(--accent);
    box-shadow: 0 0 0 3px var(--accent-light);
  }

  .filter-actions {
    display: flex;
    flex-direction: column;
    gap: 0.75rem;
    align-items: stretch;
    max-width: 100%;
  }

  .filter-actions .btn {
    flex: 0 0 auto;
    justify-content: center;
    min-width: 120px;
    width: 100%;
  }

  .btn {
    display: inline-flex;
    align-items: center;
    gap: 0.375rem;
    padding: 0.5rem 1rem;
    border-radius: 8px;
    font-weight: 600;
    text-decoration: none;
    transition: all 0.3s ease;
    border: none;
    cursor: pointer;
    font-size: 0.85rem;
  }

  .btn.primary {
    background: var(--accent);
    color: white;
  }

  .btn.primary:hover {
    background: var(--accent-dark);
    box-shadow: var(--accent-glow);
  }

  .btn.secondary {
    background: var(--glass);
    border: 1px solid var(--glass-border);
    color: var(--text);
  }

  .btn.secondary:hover {
    background: var(--accent-light);
    border-color: var(--accent);
    box-shadow: var(--accent-glow);
  }

  /* Data Section */
  .data-section {
    margin-bottom: 3rem;
  }

  .data-header {
    text-align: center;
    margin-bottom: 2rem;
  }

  .data-title {
    font-size: 2rem;
    font-weight: 700;
    color: var(--text);
    margin-bottom: 0.5rem;
  }

  .data-subtitle {
    color: var(--text-secondary);
    font-size: 1rem;
  }

  /* Compensation Grid */
  .compensation-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 1rem;
  }

  .compensation-card {
    background: var(--glass);
    backdrop-filter: var(--blur);
    -webkit-backdrop-filter: var(--blur);
    border: 1px solid var(--glass-border);
    border-radius: 12px;
    padding: 1rem 1.5rem;
    box-shadow: var(--shadow);
    transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    position: relative;
    overflow: hidden;
  }

  .compensation-card::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 3px;
    background: linear-gradient(90deg, var(--accent) 0%, var(--accent-light) 100%);
    border-radius: 12px 12px 0 0;
  }

  .compensation-card.anonymous::before {
    background: linear-gradient(90deg, #8b5cf6 0%, #7c3aed 100%);
  }

  .compensation-card:hover {
    box-shadow: var(--shadow-lg);
    border-color: var(--accent);
  }

  .compensation-header {
    display: flex;
    align-items: flex-start;
    gap: 0.75rem;
    margin-bottom: 1rem;
  }

  .compensation-icon {
    width: 32px;
    height: 32px;
    background: var(--accent-light);
    border-radius: 8px;
    display: flex;
    align-items: center;
    justify-content: center;
    color: var(--accent);
    flex-shrink: 0;
  }

  .compensation-card.anonymous .compensation-icon {
    background: rgba(139, 92, 246, 0.1);
    color: #8b5cf6;
  }

  .compensation-title {
    flex: 1;
  }

  .compensation-amount {
    font-size: 1.5rem;
    font-weight: 900;
    color: var(--text);
    margin-bottom: 0.125rem;
  }

  .compensation-year {
    color: var(--text-secondary);
    font-size: 0.8rem;
  }

  .compensation-details {
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
  }

  .detail-row {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 0.5rem 0.75rem;
    background: var(--glass-light);
    border-radius: 8px;
    border: 1px solid var(--glass-border-light);
  }

  .detail-label {
    font-weight: 600;
    color: var(--text-secondary);
    font-size: 0.8rem;
  }

  .detail-value {
    font-weight: 600;
    color: var(--text);
    font-size: 0.8rem;
  }

  .additional-notes {
    margin-top: 0.75rem;
    padding: 0.75rem;
    background: var(--glass-light);
    border-radius: 8px;
    border: 1px solid var(--glass-border-light);
  }

  .notes-label {
    font-weight: 600;
    color: var(--text-secondary);
    font-size: 0.8rem;
    margin-bottom: 0.5rem;
  }

  .notes-content {
    color: var(--text);
    font-size: 0.85rem;
    line-height: 1.4;
    white-space: pre-wrap;
  }

  .anonymous-badge {
    display: flex;
    align-items: center;
    gap: 0.375rem;
    background: rgba(139, 92, 246, 0.1);
    color: #8b5cf6;
    padding: 0.375rem 0.75rem;
    border-radius: 8px;
    font-size: 0.7rem;
    font-weight: 600;
    margin-top: 1rem;
  }

  /* Info Card */
  .info-card {
    background: var(--glass);
    backdrop-filter: var(--blur);
    -webkit-backdrop-filter: var(--blur);
    border: 1px solid var(--glass-border);
    border-radius: 12px;
    padding: 1rem 1.5rem;
    box-shadow: var(--shadow);
  }

  .info-header {
    margin-bottom: 1rem;
  }

  .info-header h3 {
    font-size: 1.1rem;
    font-weight: 700;
    color: var(--text);
    margin: 0;
  }

  .info-content p {
    color: var(--text-secondary);
    line-height: 1.5;
    margin-bottom: 0.75rem;
    font-size: 0.9rem;
  }

  .info-content p:last-child {
    margin-bottom: 0;
  }

  /* Empty State */
  .empty-state {
    text-align: center;
    padding: 2rem 1.5rem;
    background: var(--glass);
    backdrop-filter: var(--blur);
    -webkit-backdrop-filter: var(--blur);
    border: 1px solid var(--glass-border);
    border-radius: 12px;
  }

  .empty-icon {
    width: 60px;
    height: 60px;
    background: var(--accent-light);
    border-radius: 12px;
    display: flex;
    align-items: center;
    justify-content: center;
    margin: 0 auto 1.5rem;
    color: var(--accent);
  }

  .empty-state h3 {
    font-size: 1.25rem;
    font-weight: 700;
    color: var(--text);
    margin-bottom: 0.75rem;
  }

  .empty-state p {
    color: var(--text-secondary);
    font-size: 0.9rem;
    margin: 0;
  }

  /* Responsive Design */
  @media (max-width: 768px) {
    .page-title {
      font-size: 2.5rem;
    }

    .stats-grid {
      grid-template-columns: 1fr;
    }

    .filters-grid {
      grid-template-columns: 1fr;
    }

    .filter-actions {
      gap: 0.5rem;
    }

    .filter-actions .btn {
      min-width: auto;
      max-width: none;
    }

    .btn {
      justify-content: center;
    }

    .compensation-grid {
      grid-template-columns: 1fr;
    }

    .compensation-header {
      flex-direction: column;
      align-items: center;
      text-align: center;
    }
  }
</style>

<script>
  function toggleFilters() {
    const form = document.getElementById('filters-form');
    const toggle = document.querySelector('.filters-toggle svg');
    
    if (form.style.display === 'none') {
      form.style.display = 'block';
      toggle.style.transform = 'rotate(0deg)';
    } else {
      form.style.display = 'none';
      toggle.style.transform = 'rotate(180deg)';
    }
  }
</script>
{% endblock %}
